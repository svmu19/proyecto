<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/register.css">
    <link rel="stylesheet" href="css/estiloHeader.css">
    <title>Registrarse</title>
</head>

<header>
    <div class="logo">
        <a href="index.html"><img src="img/comingsoon.png" alt="Logo"></a>
    </div>
    <nav>
        <ul>
            <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
            <li><a href="contacto.html"><i class="fas fa-phone"></i> Contacto</a></li>
            <li><a href="#"><i class="fas fa-check-square"></i> Proximamente</a></li>
            <li><a href="foros.html"><i class="fas fa-comments"></i> Foro</a></li>
        </ul>
    </nav>
    <div class="dropdown">
        <button class="dropbtn"><i class="fas fa-user"></i> Cuenta</button>
        <div class="dropdown-content">
            <a href="perfil.html">Mi Perfil</a>
            <a href="#" onclick="logout()">Cerrar Sesión</a>
            <a href="login.html">Iniciar Sesión</a>
        </div>
    </div>
</header>

<body>
    <div class="mainLogin">
        <div class="MainRegister">
            <script>
                // Simula la comprobación de si el usuario está autenticado
                var isAuthenticated = false; // Cambia esto según el estado de autenticación del usuario

                if (isAuthenticated) {
                    window.location.href = '/Inicio/'; // Redirige a la página principal si el usuario ya está autenticado
                }
            </script>

            <h1>NombreEmpresa</h1> <!-- Título centrado con el nombre de la empresa -->
            <h2>Registrarse</h2> <!-- Título cambiado a NombreEmpresa -->
            <form id="Formulario" method="POST" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label for="username">Usuario:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="email">Correo Electrónico:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password" required>
                </div>

                <!-- Nuevos campos de RUT y Teléfono -->
                <div class="form-group">
                    <label for="rut">RUT:</label>
                    <input type="text" id="rut" name="rut" required placeholder="" data-inputmask="'mask': '999.999.999-9'" />
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono:</label>
                    <input type="text" id="phone" name="phone" required placeholder="" data-inputmask="'mask': '+56 9 9999 9999'" />
                </div>

                <!-- Simulación de CSRF token -->
                <input type="hidden" name="csrf_token" value="TOKEN_AQUI">

                <input value="Registrarse" type="submit">
            </form>
            <p>¿Ya tienes cuenta? <a href="login.html">Ingresa ya!</a></p>
        </div>
    </div>
    
    <script>
        function handleRegister(event) {
            event.preventDefault(); // Evita el envío del formulario

            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const rut = document.getElementById('rut').value;
            const phone = document.getElementById('phone').value;

            // Aquí puedes simular la lógica de registro
            if (username && email && password && rut && phone) {
                // Simula un registro exitoso
                alert("Registro exitoso");
                // Redirige a la página de inicio
                window.location.href = "/Inicio/";
            } else {
                alert("Por favor completa todos los campos.");
            }
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/inputmask/inputmask.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/jquery.inputmask.bundle.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/css/inputmask.min.css" rel="stylesheet" />
    <script src="js/Register.js"></script> <!-- Tu archivo JS personalizado -->
</body>

</html>
